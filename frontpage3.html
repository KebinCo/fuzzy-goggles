<!DOCTYPE html>
<html lang="ko">
<head>
  <!--
    FoodFutures — Single-file GitHub Pages site
    - Default language: Korean (ko)
    - Visible language toggle (KR | EN) in the top-right of the navbar
    - Restored all sections from the original design (hero, mechanics, why, how, risk, data, FAQ, ticker, footer)
    - Smooth language switching with localStorage persistence
    - Scroll reveal, mobile nav, demo ticker, FAQ accordion, scrollspy preserved

    NOTES FOR YOU:
    - Drop this file as index.html into your GitHub Pages repo (or split CSS/JS later).
    - Translation text is stored in the `langStrings` object in JS — update as needed.
  -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>푸드퓨처스 — FoodFutures</title>
  <meta name="description" content="FoodFutures: 식자재 가격 예측 시장 — 전문적 도구와 리테일 접근성의 결합" />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <style>
    /* ========================= THEME VARIABLES ========================= */
    :root{
      --bg:#0b0d0f; --panel:#101418; --panel-2:#0e1216; --text:#e7f6ef; --muted:#a6b7ad; --neon:#35ff79; --neon-2:#2fe6c7;
      --shadow-neon:0 0 12px rgba(53,255,121,.55),0 0 30px rgba(53,255,121,.25);
      --radius-xl:24px; --radius-lg:16px; --radius-md:12px; --maxw:1200px; --g:20px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:radial-gradient(1200px 600px at 20% -10%, rgba(47,230,199,.06), transparent),radial-gradient(1000px 600px at 120% 10%, rgba(53,255,121,.06), transparent),var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;line-height:1.6}
    a{color:var(--neon);text-decoration:none}
    img{max-width:100%;display:block}

    /* ========================= NAVBAR ========================= */
    .nav{position:sticky;top:0;z-index:9999;backdrop-filter:blur(10px);background:rgba(5,7,9,.6);border-bottom:1px solid rgba(53,255,121,.15)}
    .nav-inner{max-width:var(--maxw);margin:0 auto;padding:12px 20px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:800;letter-spacing:.5px}
    .brand-logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--neon),#7dffa8);box-shadow:var(--shadow-neon)}
    .nav-menu{display:flex;align-items:center;gap:18px}
    .nav-menu ul{list-style:none;display:flex;gap:16px;margin:0;padding:0}
    .nav-menu a{position:relative;padding:6px 8px;border-radius:8px;font-weight:600;color:var(--text)}
    .nav-menu a:hover{background:rgba(53,255,121,.06)}
    .nav-menu a.active::after{content:"";position:absolute;left:10px;right:10px;bottom:-6px;height:3px;background:var(--neon);box-shadow:var(--shadow-neon);border-radius:3px}

    /* Language toggle */
    .lang-btn{cursor:pointer;padding:8px 12px;border-radius:10px;border:1px solid rgba(53,255,121,.16);background:rgba(255,255,255,.02);font-weight:700}

    @media(max-width:900px){.nav-inner{flex-wrap:wrap}.nav-toggle{display:inline-flex}.nav-menu{width:100%;display:none;padding-top:10px}.nav-menu.open{display:block}.nav-menu ul{flex-direction:column;gap:8px}}

    /* ========================= HERO ========================= */
    .hero{position:relative;padding:120px 20px 80px;overflow:hidden}
    .hero::before{content:"";position:absolute;inset:-20%;background:radial-gradient(500px 500px at 70% 20%, rgba(53,255,121,.15), transparent 60%),radial-gradient(800px 800px at 0% 100%, rgba(47,230,199,.12), transparent 65%);filter:blur(20px);pointer-events:none;z-index:-1}
    .wrap{max-width:var(--maxw);margin:0 auto}
    .grid-2{display:grid;grid-template-columns:1.2fr 1fr;gap:40px;align-items:center}
    @media(max-width:980px){.grid-2{grid-template-columns:1fr}}
    .kicker{color:var(--neon);font-weight:800;letter-spacing:.1em;text-transform:uppercase;font-size:.9rem}
    .h1{font-size:clamp(2.2rem,5vw,3.4rem);line-height:1.1;margin:10px 0 18px;font-weight:800}
    .lead{color:var(--muted);font-size:1.1rem}
    .cta-row{display:flex;gap:12px;margin-top:26px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:12px 16px;border-radius:var(--radius-lg);border:1px solid rgba(53,255,121,.35);background:linear-gradient(180deg, rgba(53,255,121,.12), rgba(53,255,121,.04));color:var(--text);font-weight:700;text-decoration:none;box-shadow:var(--shadow-neon);transition:transform .16s ease,box-shadow .16s ease,background .16s ease}
    .btn:hover{transform:translateY(-1px);background:rgba(53,255,121,.18)}
    .btn.alt{box-shadow:none;border-color:rgba(167,180,171,.25);background:rgba(255,255,255,.02)}
    .hero-card{background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.01));border:1px solid rgba(255,255,255,.08);border-radius:var(--radius-xl);padding:20px}
    .ticker{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .tick{background:var(--panel);border:1px solid rgba(53,255,121,.18);border-radius:var(--radius-md);padding:12px}
    .tick h4{margin:0 0 4px;font-size:.95rem;color:var(--neon)}
    .tick .v{font-weight:800;font-size:1.25rem}
    .tick small{color:var(--muted)}
    @media(max-width:600px){.ticker{grid-template-columns:1fr}}

    /* ========================= SECTIONS / CARDS ========================= */
    section{padding:70px 20px}
    .section-title{font-size:clamp(1.6rem,2.5vw,2.2rem);margin:0 0 10px;font-weight:800}
    .section-lead{color:var(--muted);max-width:820px}
    .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-top:26px}
    @media(max-width:980px){.cards{grid-template-columns:1fr 1fr}}@media(max-width:680px){.cards{grid-template-columns:1fr}}
    .card{background:var(--panel);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius-lg);padding:18px 18px;box-shadow:0 0 0 1px rgba(53,255,121,.08) inset}
    .card h3{margin:0 0 8px;font-size:1.1rem;color:var(--neon)}
    .card p{margin:0;color:var(--text)}
    .badge{display:inline-block;padding:6px 10px;border:1px solid rgba(53,255,121,.3);border-radius:999px;font-size:.8rem;color:var(--neon);background:linear-gradient(180deg, rgba(53,255,121,.1), rgba(53,255,121,.02))}

    /* TIMELINE */
    .timeline{position:relative;margin-top:30px}
    .timeline::before{content:"";position:absolute;left:14px;top:0;bottom:0;width:2px;background:linear-gradient(var(--neon),transparent);opacity:.5}
    .step{display:grid;grid-template-columns:28px 1fr;gap:16px;padding:14px 0}
    .dot{width:28px;height:28px;border-radius:50%;background:radial-gradient(circle at 30% 30%, #fff,var(--neon));box-shadow:var(--shadow-neon)}
    .step h4{margin:0 0 4px}
    .step p{margin:0;color:var(--muted)}

    /* FAQ */
    .faq{max-width:900px;margin-top:24px}
    .qa{border:1px solid rgba(255,255,255,.08);border-radius:var(--radius-md);background:var(--panel-2);overflow:hidden;margin-bottom:12px}
    .q{display:flex;justify-content:space-between;align-items:center;padding:16px;cursor:pointer;font-weight:700}
    .q:hover{background:rgba(53,255,121,.06)}
    .a{padding:0 16px;max-height:0;overflow:hidden;transition:max-height .25s ease;color:var(--muted)}
    .qa.open .a{padding:12px 16px 18px;max-height:400px}

    /* FOOTER */
    footer{padding:50px 20px;border-top:1px solid rgba(53,255,121,.12);background:#0a0c0e;color:var(--muted)}
    .foot-grid{max-width:var(--maxw);margin:0 auto;display:grid;grid-template-columns:2fr 1fr 1fr;gap:20px}
    @media(max-width:900px){.foot-grid{grid-template-columns:1fr}}

    /* REVEAL ANIM */
    .reveal{opacity:0;transform:translateY(12px);transition:opacity .6s ease,transform .6s ease}
    .reveal.in-view{opacity:1;transform:translateY(0)}
    .card:hover{border-color:rgba(53,255,121,.35);box-shadow:0 0 0 1px rgba(53,255,121,.25) inset,0 10px 30px rgba(53,255,121,.05)}

    /* Small utilities */
    .muted{color:var(--muted)}
    .center{display:flex;align-items:center;justify-content:center}

    /* Language flash when switching */
    .lang-fade{transition:opacity .18s ease}
  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="nav">
    <div class="nav-inner">
      <div class="brand">
        <div class="brand-logo" aria-hidden="true"></div>
        <span id="brandText" data-key="brand">푸드퓨처스</span>
      </div>

      <div class="nav-menu" id="navMenu">
        <ul>
          <li><a href="#home" data-key="navHome" class="active">홈</a></li>
          <li><a href="#mechanics" data-key="navMechanics">메커니즘</a></li>
          <li><a href="#why" data-key="navWhy">왜</a></li>
          <li><a href="#how" data-key="navHow">거래 방법</a></li>
          <li><a href="#risk" data-key="navRisk">리스크</a></li>
          <li><a href="#data" data-key="navData">데이터</a></li>
          <li><a href="#faq" data-key="navFAQ">FAQ</a></li>
        </ul>
      </div>

      <div style="display:flex;gap:12px;align-items:center">
        <button id="langToggle" class="lang-btn" aria-label="언어 전환">KR | EN</button>
        <div class="nav-toggle" id="navToggle" aria-label="Open menu" role="button" tabindex="0">☰</div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header id="home" class="hero">
    <div class="wrap grid-2">
      <div>
        <div class="kicker reveal" data-key="kicker">예측 시장</div>
        <h1 class="h1 reveal" data-key="heroTitle">식자재의 미래를 거래하세요</h1>
        <p class="lead reveal" data-key="heroLead">푸드퓨처스는 객관적 가격 결과에 연동된 계약을 거래하는 연속형 예측 시장입니다. 전문 트레이딩 도구 + 리테일 접근성.</p>
        <div class="cta-row reveal">
          <a href="#how" class="btn" id="ctaPrimary" data-key="ctaStart">시작하기</a>
          <a href="#mechanics" class="btn alt" id="ctaSecondary" data-key="ctaHow">작동 방식 보기</a>
        </div>
      </div>

      <div class="hero-card reveal">
        <div class="badge" data-key="liveTickers">샘플 티커</div>
        <div class="ticker" id="ticker"></div>
        <small class="muted" data-key="tickerNote">데모용 예시 시세입니다.</small>
      </div>
    </div>
  </header>

  <!-- MECHANICS -->
  <section id="mechanics" class="reveal">
    <div class="wrap">
      <h2 class="section-title" data-key="mechanicsTitle">계약 메커니즘</h2>
      <p class="section-lead" data-key="mechanicsLead">계약은 <strong>재료–지역–청산일</strong> 형식입니다(예: <em>BEEF‑TX‑MAR2026</em>). 정산은 공신력 있는 데이터에 따라 자동으로 이루어집니다.</p>

      <div class="cards">
        <div class="card reveal">
          <h3 data-key="cardSpecsTitle">계약 사양</h3>
          <p data-key="cardSpecsText">생성 시 기준가격 설정; 정산 범위 −50% ~ +200%; 계약가치는 예측된 % 변화에 따라 $0.01~$2.00; 최소 10 계약, 최대 10,000 계약.</p>
        </div>
        <div class="card reveal" style="transition-delay:.05s">
          <h3 data-key="cardPricingTitle">가격 산정</h3>
          <p data-key="cardPricingText">가격 = 확률 × 페이아웃. 예: +25% 확률 40% → 약 $0.40에 거래; 결과 달성 시 $1.00 정산.</p>
        </div>
        <div class="card reveal" style="transition-delay:.1s">
          <h3 data-key="cardLeverageTitle">레버리지</h3>
          <p data-key="cardLeverageText">인증된 사용자에 한해 2×~5× 제공; 증거금 20%~50%; 자동청산 및 포지션 제한 적용.</p>
        </div>
      </div>

      <div class="timeline">
        <div class="step reveal">
          <div class="dot" aria-hidden="true"></div>
          <div>
            <h4 data-key="step1Title">계약 선택</h4>
            <p data-key="step1Text">재료‑지역‑일자를 선택하세요(예: TOMATO‑CA‑JUN2026). 각 계약은 기준과 사양을 가집니다.</p>
          </div>
        </div>
        <div class="step reveal" style="transition-delay:.05s">
          <div class="dot" aria-hidden="true"></div>
          <div>
            <h4 data-key="step2Title">연속 거래</h4>
            <p data-key="step2Text">마켓/리밋 주문을 사용하세요. 오더북과 AMM이 유동성을 제공합니다.</p>
          </div>
        </div>
        <div class="step reveal" style="transition-delay:.1s">
          <div class="dot" aria-hidden="true"></div>
          <div>
            <h4 data-key="step3Title">데이터 기반 정산</h4>
            <p data-key="step3Text">정산일에 USDA 등 공신력 있는 소스에 따라 자동으로 정산됩니다.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- WHY -->
  <section id="why" class="reveal">
    <div class="wrap">
      <h2 class="section-title" data-key="whyTitle">왜 푸드퓨처스인가?</h2>
      <p class="section-lead" data-key="whyLead">재료에 집중된 시장은 헤지, 계획, 가격 발견에 도움을 줍니다 — 업계에 실질적인 가치를 제공합니다.</p>
      <div class="cards">
        <div class="card reveal"><h3 data-key="whyCard1Title">실용성</h3><p data-key="whyCard1Text">레스토랑, 유통업자, 생산자가 실제 노출을 헤지할 수 있습니다.</p></div>
        <div class="card reveal" style="transition-delay:.05s"><h3 data-key="whyCard2Title">전문 도구</h3><p data-key="whyCard2Text">고급 차트, 호가창, 분석 — 초보자용 교육 포함.</p></div>
        <div class="card reveal" style="transition-delay:.1s"><h3 data-key="whyCard3Title">데이터 기반</h3><p data-key="whyCard3Text">다중 데이터 소스 검증 및 보험기금으로 이상 정산에 대응.</p></div>
      </div>
    </div>
  </section>

  <!-- HOW -->
  <section id="how" class="reveal">
    <div class="wrap">
      <h2 class="section-title" data-key="howTitle">거래 방법</h2>
      <p class="section-lead" data-key="howLead">첫 포지션까지 세 단계 — 기본 보호 장치들은 항상 적용됩니다.</p>
      <div class="cards">
        <div class="card reveal"><h3 data-key="howCard1Title">1) 계정 개설</h3><p data-key="howCard1Text">리테일 계정은 $100 시작, 2× 레버리지 제한. 상위 계정은 더 많은 기능 제공.</p></div>
        <div class="card reveal" style="transition-delay:.05s"><h3 data-key="howCard2Title">2) 전략 선택</h3><p data-key="howCard2Text">히스토리, 날씨, 여론을 참고하여 확률적 뷰를 만듭니다.</p></div>
        <div class="card reveal" style="transition-delay:.1s"><h3 data-key="howCard3Title">3) 주문 실행</h3><p data-key="howCard3Text">엔트리/리스크 관리를 위해 마켓/리밋/스톱을 사용하세요.</p></div>
      </div>
    </div>
  </section>

  <!-- RISK -->
  <section id="risk" class="reveal">
    <div class="wrap">
      <h2 class="section-title" data-key="riskTitle">리스크 & 컴플라이언스</h2>
      <p class="section-lead" data-key="riskLead">상시 감시, 포지션 제한, 사용자 보호 기본 제공. 관련 규정을 준수합니다.</p>
      <div class="cards">
        <div class="card reveal"><h3 data-key="riskCard1Title">사용자 보호</h3><p data-key="riskCard1Text">네거티브 밸런스 보호, 쿨링오프, 자기제한 도구 제공.</p></div>
        <div class="card reveal" style="transition-delay:.05s"><h3 data-key="riskCard2Title">제한 & 모니터링</h3><p data-key="riskCard2Text">계약별 $10k, 포트폴리오 $50k 제한, 자동 청산.</p></div>
        <div class="card reveal" style="transition-delay:.1s"><h3 data-key="riskCard3Title">데이터 무결성</h3><p data-key="riskCard3Text">다중 소스 교차검증, 이상치 탐지, 48시간 이의제기 창.</p></div>
      </div>
    </div>
  </section>

  <!-- DATA -->
  <section id="data" class="reveal">
    <div class="wrap">
      <h2 class="section-title" data-key="dataTitle">데이터 & 정산</h2>
      <p class="section-lead" data-key="dataLead">정산 = (최종가격 − 기준가격) / 기준가격. 정산은 데이터 공개 24시간 이내에 자동 실행됩니다.</p>
      <div class="cards">
        <div class="card reveal"><h3 data-key="dataCard1Title">기본 소스</h3><p data-key="dataCard1Text">USDA NASS, CME 및 지역 도매시장 등.</p></div>
        <div class="card reveal" style="transition-delay:.05s"><h3 data-key="dataCard2Title">투명성</h3><p data-key="dataCard2Text">플랫폼 정확도 보고서 및 다운로드 가능한 히스토리 제공.</p></div>
        <div class="card reveal" style="transition-delay:.1s"><h3 data-key="dataCard3Title">API</h3><p data-key="dataCard3Text">전문 계정에선 스트리밍 가격과 주문/포지션 API 제공.</p></div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="reveal">
    <div class="wrap">
      <h2 class="section-title" data-key="faqTitle">자주 묻는 질문</h2>
      <div class="faq">
        <div class="qa reveal">
          <div class="q" data-key="faqQ1">이건 도박 사이트인가요? <span>+</span></div>
          <div class="a" data-key="faqA1">아니요. 계약은 주관적 이벤트가 아닌 공식 가격 데이터에 따라 정산됩니다. 금융형 예측시장으로 규제를 준수합니다.</div>
        </div>
        <div class="qa reveal" style="transition-delay:.05s">
          <div class="q" data-key="faqQ2">누가 유동성을 제공하나요? <span>+</span></div>
          <div class="a" data-key="faqA2">AMM과 오더북, 그리고 커뮤니티 유동성 공급자가 함께 제공합니다.</div>
        </div>
        <div class="qa reveal" style="transition-delay:.1s">
          <div class="q" data-key="faqQ3">레버리지 위험은요? <span>+</span></div>
          <div class="a" data-key="faqA3">레버리지는 선택사항이며, 마진 요구와 자동청산으로 리스크를 관리합니다.</div>
        </div>
        <div class="qa reveal" style="transition-delay:.15s">
          <div class="q" data-key="faqQ4">이의 제기는 어떻게 처리되나요? <span>+</span></div>
          <div class="a" data-key="faqA4">48시간 이의제기 창과 중재 프로세스, 보험기금으로 처리합니다.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    <div class="foot-grid">
      <div>
        <div class="brand" style="margin-bottom:8px">
          <div class="brand-logo" aria-hidden="true"></div>
          <strong id="brandFooter" data-key="brand">푸드퓨처스</strong>
        </div>
        <small>© <span id="year"></span> FoodFutures. All rights reserved.</small>
        <small>교육 목적 자료이며 투자 조언이 아닙니다. 거래에는 위험이 있습니다.</small>
      </div>
      <div>
        <strong data-key="exploreTitle">탐색</strong>
        <small><a href="#mechanics" data-key="navMechanics_small">메커니즘</a></small>
        <small><a href="#why" data-key="navWhy_small">왜</a></small>
        <small><a href="#how" data-key="navHow_small">거래 방법</a></small>
      </div>
      <div>
        <strong data-key="complianceTitle">컴플라이언스</strong>
        <small><a href="#risk" data-key="navRisk_small">리스크</a></small>
        <small><a href="#data" data-key="navData_small">데이터</a></small>
        <small><a href="#faq" data-key="navFAQ_small">FAQ</a></small>
      </div>
    </div>
  </footer>

  <!-- SCRIPTS -->
  <script>
    /* --------------------------------------------------
       JS OVERVIEW
       - Language switch (KR default) with localStorage persistence
       - Smooth text swap with brief fade
       - Reveal-on-scroll via IntersectionObserver
       - Mobile nav toggle
       - Scrollspy to highlight active nav link
       - Demo ticker rendering
       - FAQ accordion
    -------------------------------------------------- */

    // --- Language strings (Korean default + English translations)
    const langStrings = {
      kr: {
        brand: '푸드퓨처스',
        navHome: '홈', navMechanics: '메커니즘', navWhy: '왜', navHow: '거래 방법', navRisk: '리스크', navData: '데이터', navFAQ: 'FAQ',
        kicker: '예측 시장', heroTitle: '식자재의 미래를 거래하세요', heroLead: '푸드퓨처스는 객관적 가격 결과에 연동된 계약을 거래하는 연속형 예측 시장입니다. 전문 트레이딩 도구 + 리테일 접근성.',
        ctaStart: '시작하기', ctaHow: '작동 방식 보기', liveTickers: '샘플 티커', tickerNote: '데모용 예시 시세입니다.',
        mechanicsTitle: '계약 메커니즘', mechanicsLead: '계약은 재료–지역–청산일 형식입니다(예: BEEF‑TX‑MAR2026). 정산은 공신력 있는 데이터에 따라 자동으로 이루어집니다.',
        cardSpecsTitle: '계약 사양', cardSpecsText: '생성 시 기준가격 설정; 정산 범위 −50% ~ +200%; 계약가치는 예측된 % 변화에 따라 $0.01~$2.00; 최소 10 계약, 최대 10,000 계약.',
        cardPricingTitle: '가격 산정', cardPricingText: '가격 = 확률 × 페이아웃. 예: +25% 확률 40% → 약 $0.40에 거래; 결과 달성 시 $1.00 정산.',
        cardLeverageTitle: '레버리지', cardLeverageText: '인증된 사용자에 한해 2×~5× 제공; 증거금 20%~50%; 자동청산 및 포지션 제한 적용.',
        step1Title: '계약 선택', step1Text: '재료‑지역‑일자를 선택하세요(예: TOMATO‑CA‑JUN2026). 각 계약은 기준과 사양을 가집니다.',
        step2Title: '연속 거래', step2Text: '마켓/리밋 주문을 사용하세요. 오더북과 AMM이 유동성을 제공합니다.',
        step3Title: '데이터 기반 정산', step3Text: '정산일에 USDA 등 공신력 있는 소스에 따라 자동으로 정산됩니다.',
        whyTitle: '왜 푸드퓨처스인가?', whyLead: '재료에 집중된 시장은 헤지, 계획, 가격 발견에 도움을 줍니다 — 업계에 실질적인 가치를 제공합니다.',
        whyCard1Title: '실용성', whyCard1Text: '레스토랑, 유통업자, 생산자가 실제 노출을 헤지할 수 있습니다.',
        whyCard2Title: '전문 도구', whyCard2Text: '고급 차트, 호가창, 분석 — 초보자용 교육 포함.',
        whyCard3Title: '데이터 기반', whyCard3Text: '다중 데이터 소스 검증 및 보험기금으로 이상 정산에 대응.',
        howTitle: '거래 방법', howLead: '첫 포지션까지 세 단계 — 기본 보호 장치들은 항상 적용됩니다.',
        howCard1Title: '1) 계정 개설', howCard1Text: '리테일 계정은 $100 시작, 2× 레버리지 제한. 상위 계정은 더 많은 기능 제공.',
        howCard2Title: '2) 전략 선택', howCard2Text: '히스토리, 날씨, 여론을 참고하여 확률적 뷰를 만듭니다.',
        howCard3Title: '3) 주문 실행', howCard3Text: '엔트리/리스크 관리를 위해 마켓/리밋/스톱을 사용하세요.',
        riskTitle: '리스크 & 컴플라이언스', riskLead: '상시 감시, 포지션 제한, 사용자 보호 기본 제공. 관련 규정을 준수합니다.',
        riskCard1Title: '사용자 보호', riskCard1Text: '네거티브 밸런스 보호, 쿨링오프, 자기제한 도구 제공.',
        riskCard2Title: '제한 & 모니터링', riskCard2Text: '계약별 $10k, 포트폴리오 $50k 제한, 자동 청산.',
        riskCard3Title: '데이터 무결성', riskCard3Text: '다중 소스 교차검증, 이상치 탐지, 48시간 이의제기 창.',
        dataTitle: '데이터 & 정산', dataLead: '정산 = (최종가격 − 기준가격) / 기준가격. 정산은 데이터 공개 24시간 이내에 자동 실행됩니다.',
        dataCard1Title: '기본 소스', dataCard1Text: 'USDA NASS, CME 및 지역 도매시장 등.',
        dataCard2Title: '투명성', dataCard2Text: '플랫폼 정확도 보고서 및 다운로드 가능한 히스토리 제공.',
        dataCard3Title: 'API', dataCard3Text: '전문 계정에선 스트리밍 가격과 주문/포지션 API 제공.',
        faqTitle: '자주 묻는 질문',
        faqQ1: '이건 도박 사이트인가요?', faqA1: '아니요. 계약은 주관적 이벤트가 아닌 공식 가격 데이터에 따라 정산됩니다. 금융형 예측시장으로 규제를 준수합니다.',
        faqQ2: '누가 유동성을 제공하나요?', faqA2: 'AMM과 오더북, 그리고 커뮤니티 유동성 공급자가 함께 제공합니다.',
        faqQ3: '레버리지 위험은요?', faqA3: '레버리지는 선택사항이며, 마진 요구와 자동청산으로 리스크를 관리합니다.',
        faqQ4: '이의 제기는 어떻게 처리되나요?', faqA4: '48시간 이의제기 창과 중재 프로세스, 보험기금으로 처리합니다.',
        exploreTitle: '탐색', complianceTitle: '컴플라이언스',
        navMechanics_small: '메커니즘', navWhy_small: '왜', navHow_small: '거래 방법', navRisk_small: '리스크', navData_small: '데이터', navFAQ_small: 'FAQ'
      },
      en: {
        brand: 'FoodFutures',
        navHome: 'Home', navMechanics: 'Mechanics', navWhy: 'Why', navHow: 'How to Trade', navRisk: 'Risk', navData: 'Data', navFAQ: 'FAQ',
        kicker: 'Prediction Markets', heroTitle: 'Trade the Future of Ingredients', heroLead: 'FoodFutures is a continuous prediction market where users trade contracts tied to objective price outcomes. Professional tools + retail access.',
        ctaStart: 'Get Started', ctaHow: 'See How It Works', liveTickers: 'Live Sample Tickers', tickerNote: 'Illustrative quotes for demo purposes.',
        mechanicsTitle: 'Contract Mechanics', mechanicsLead: 'Contracts are named Ingredient–Region–Settlement Date (e.g., BEEF‑TX‑MAR2026) and settle to official market data.',
        cardSpecsTitle: 'Contract Specs', cardSpecsText: 'Baseline price set at creation; settlement range −50% to +200%; contract value $0.01–$2.00; min 10 contracts, max 10,000.',
        cardPricingTitle: 'Pricing', cardPricingText: 'Price = Probability × Payout. Example: +25% contract trades at ~$0.40; pays $1.00 if outcome hits.',
        cardLeverageTitle: 'Leverage', cardLeverageText: '2x–5x for qualified users; margin 20%–50%; auto-liquidation and position limits.',
        step1Title: 'Create / Choose a Contract', step1Text: 'Select Ingredient‑Region‑Date (e.g., TOMATO‑CA‑JUN2026). Each contract has baseline and specs.',
        step2Title: 'Trade Continuously', step2Text: 'Use market/limit orders. Order book + AMM provide liquidity and price discovery.',
        step3Title: 'Settle to Data', step3Text: 'On settlement date, contracts auto‑settle to objective sources (USDA, exchanges).',
        whyTitle: 'Why FoodFutures?', whyLead: 'A focused market for ingredients: better hedging for restaurants and suppliers, clearer signals for planners.',
        whyCard1Title: 'Real Utility', whyCard1Text: 'Trade what you actually buy and sell — not memes.',
        whyCard2Title: 'Professional Tools', whyCard2Text: 'Advanced charting, depth, and analytics — with retail onboarding.',
        whyCard3Title: 'Data‑Backed', whyCard3Text: 'Multiple data sources, dispute window, and insurance fund.',
        howTitle: 'How to Trade', howLead: 'Three steps to your first position. Protections are always on.',
        howCard1Title: '1) Open an Account', howCard1Text: 'Retail: $100 min, 2x max leverage. Higher tiers add features.',
        howCard2Title: '2) Pick a Thesis', howCard2Text: 'Use historical charts, weather, and sentiment to form a probability view.',
        howCard3Title: '3) Place Orders', howCard3Text: 'Use market/limit/stop for entries and risk management.',
        riskTitle: 'Risk & Compliance', riskLead: 'Continuous surveillance, position limits, and user protection. We comply with applicable rules.',
        riskCard1Title: 'User Protection', riskCard1Text: 'Negative balance protection, cooling-off, self-exclusion.',
        riskCard2Title: 'Limits & Monitoring', riskCard2Text: '$10k per contract, $50k portfolio cap, auto-liquidation.',
        riskCard3Title: 'Data Integrity', riskCard3Text: 'Cross-validation, outlier detection, 48-hour dispute window.',
        dataTitle: 'Data & Settlement', dataLead: 'Settlement = (Final Price − Baseline) / Baseline. Payouts execute automatically.',
        dataCard1Title: 'Primary Sources', dataCard1Text: 'USDA NASS, CME, and regional wholesale markets.',
        dataCard2Title: 'Transparency', dataCard2Text: 'Public accuracy reporting and downloadable history.',
        dataCard3Title: 'APIs', dataCard3Text: 'Professional accounts get streaming prices and order APIs.',
        faqTitle: 'FAQ', faqQ1: 'Is this a gambling site?', faqA1: 'No. Contracts settle to official price data, not subjective events.',
        faqQ2: 'Who provides liquidity?', faqA2: 'An AMM + order book and community liquidity providers.', faqQ3: 'What about leverage risk?', faqA3: 'Leverage is optional and managed with margin and auto-liquidation.',
        faqQ4: 'How are disputes handled?', faqA4: '48-hour challenge window, arbitration, and insurance fund.',
        exploreTitle: 'Explore', complianceTitle: 'Compliance',
        navMechanics_small: 'Mechanics', navWhy_small: 'Why', navHow_small: 'How to Trade', navRisk_small: 'Risk', navData_small: 'Data', navFAQ_small: 'FAQ'
      }
    };

    // Helper to set text for all data-key elements
    function applyLanguage(lang){
      // brief fade to smooth the switch
      document.documentElement.classList.add('lang-fade');
      document.documentElement.style.opacity = '0.3';
      setTimeout(() => {
        document.querySelectorAll('[data-key]').forEach(el => {
          const key = el.getAttribute('data-key');
          if (!key) return;
          const str = (langStrings[lang] && langStrings[lang][key]) || '';
          // Use innerHTML for elements that may contain markup
          const useHTML = ['mechanicsLead','heroLead','brand'].includes(key);
          if(useHTML) el.innerHTML = str; else el.textContent = str;
        });
        document.documentElement.style.opacity = '';
        setTimeout(()=>document.documentElement.classList.remove('lang-fade'),200);
      },120);
    }

    // Persist & init language
    const saved = localStorage.getItem('ff_lang');
    let currentLang = saved || 'kr';
    applyLanguage(currentLang);
    const langToggle = document.getElementById('langToggle');
    langToggle.addEventListener('click', ()=>{
      currentLang = currentLang === 'kr' ? 'en' : 'kr';
      localStorage.setItem('ff_lang', currentLang);
      applyLanguage(currentLang);
      // update visible label quickly
      langToggle.textContent = currentLang.toUpperCase() === 'KR' ? 'KR | EN' : 'KR | EN';
    });

    // Make toggle keyboard accessible
    langToggle.setAttribute('role','button'); langToggle.setAttribute('tabindex','0');
    langToggle.addEventListener('keydown', e=>{ if(e.key==='Enter' || e.key===' ') langToggle.click(); });

    // Mobile nav toggle
    const navToggle = document.getElementById('navToggle');
    const navMenu = document.getElementById('navMenu');
    navToggle.addEventListener('click', ()=>navMenu.classList.toggle('open'));
    navToggle.addEventListener('keydown', e=>{ if(e.key==='Enter') navMenu.classList.toggle('open'); });

    // Reveal-on-scroll using IntersectionObserver (preferred over scroll event)
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{ if(entry.isIntersecting) { entry.target.classList.add('in-view'); io.unobserve(entry.target); } });
    }, { threshold: 0.12 });
    document.querySelectorAll('.reveal').forEach(el=>io.observe(el));

    // Scrollspy to highlight nav links
    const sections = [...document.querySelectorAll('section, header.hero')];
    const navLinks = [...document.querySelectorAll('.nav-menu a')];
    const spy = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const id = entry.target.getAttribute('id');
          navLinks.forEach(l => l.classList.toggle('active', l.getAttribute('href') === `#${id}`));
        }
      });
    }, { root: null, rootMargin: '-50% 0px -45% 0px', threshold: 0 });
    sections.forEach(s => spy.observe(s));

    // Demo ticker
    const tickers = [ { sym: 'BEEF‑TX‑MAR2026', base: 100 }, { sym: 'TOMATO‑CA‑JUN2026', base: 35 }, { sym: 'WHEAT‑US‑DEC2025', base: 8.5 } ];
    const tickerEl = document.getElementById('ticker');
    function renderTicker(){
      tickerEl.innerHTML = tickers.map(t=>{
        const prob = Math.max(5, Math.min(85, Math.round(40 + (Math.random()*20 - 10))));
        const payout = 1.00; const price = (prob/100 * payout).toFixed(2);
        const delta = ((Math.random()*2 -1) * 0.04); const pct = ((prob/100 - 0.5) * 100 + delta*100).toFixed(1);
        return `<div class="tick"><h4>${t.sym}</h4><div class="v">$${price}</div><small>Implied Δ: ${pct}%</small></div>`;
      }).join('');
    }
    if(tickerEl){ renderTicker(); setInterval(renderTicker,3000); }

    // FAQ accordion behavior
    document.querySelectorAll('.qa .q').forEach(q=>{
      q.setAttribute('tabindex','0'); q.setAttribute('role','button');
      q.addEventListener('click', ()=>{ q.parentElement.classList.toggle('open'); });
      q.addEventListener('keydown', e=>{ if(e.key === 'Enter') q.parentElement.classList.toggle('open'); });
    });

    // Footer year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Ensure initial nav active state
    document.querySelectorAll('.nav-menu a').forEach(a=>a.addEventListener('click', e=>{
      // smooth scroll
      const id = a.getAttribute('href');
      if(id && id.startsWith('#')){
        e.preventDefault(); const el = document.querySelector(id); if(el){ const y = el.getBoundingClientRect().top + window.pageYOffset - 70; window.scrollTo({top:y,behavior:'smooth'}); navMenu.classList.remove('open'); }
      }
    }));

  </script>
</body>
</html>
